import{F as Q,G as Z,r as m,a7 as pe,a8 as se,S as U,s as A,j as o,H as B,y as K,z as ue,A as re,k as X,h as ae,Q as me,x as J,C as Y,D as te,J as oe,a9 as he,e as T,b as be,d as fe,aa as ge,B as O,P as xe,ab as ve,a3 as Ce,Z as D,a4 as Pe,I as ye,a5 as ke,V as Se,f as je,a6 as we,L as Fe}from"./index-TOg4iC9X.js";import{S as Re}from"./Slide-YMDv0B6a.js";function Ie(e){return Q("PrivateSwitchBase",e)}Z("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Be=e=>{const{classes:t,checked:r,disabled:a,edge:l}=e,n={root:["root",r&&"checked",a&&"disabled",l&&`edge${B(l)}`],input:["input"]};return K(n,Ie,t)},ze=A(ue)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),Le=A("input",{shouldForwardProp:re})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),$e=m.forwardRef(function(t,r){const{autoFocus:a,checked:l,checkedIcon:n,defaultChecked:p,disabled:i,disableFocusRipple:g=!1,edge:x=!1,icon:k,id:b,inputProps:R,inputRef:S,name:I,onBlur:v,onChange:C,onFocus:P,readOnly:y,required:c=!1,tabIndex:u,type:d,value:j,slots:N={},slotProps:V={},...z}=t,[L,W]=pe({controlled:l,default:!!p,name:"SwitchBase",state:"checked"}),f=se(),$=s=>{P&&P(s),f&&f.onFocus&&f.onFocus(s)},w=s=>{v&&v(s),f&&f.onBlur&&f.onBlur(s)},M=s=>{if(s.nativeEvent.defaultPrevented)return;const h=s.target.checked;W(h),C&&C(s,h)};let E=i;f&&typeof E>"u"&&(E=f.disabled);const ne=d==="checkbox"||d==="radio",H={...t,checked:L,disabled:E,disableFocusRipple:g,edge:x},_=Be(H),ee={slots:N,slotProps:{input:R,...V}},[le,ie]=U("root",{ref:r,elementType:ze,className:_.root,shouldForwardComponentProp:!0,externalForwardedProps:{...ee,component:"span",...z},getSlotProps:s=>({...s,onFocus:h=>{var F;(F=s.onFocus)==null||F.call(s,h),$(h)},onBlur:h=>{var F;(F=s.onBlur)==null||F.call(s,h),w(h)}}),ownerState:H,additionalProps:{centerRipple:!0,focusRipple:!g,disabled:E,role:void 0,tabIndex:null}}),[ce,de]=U("input",{ref:S,elementType:Le,className:_.input,externalForwardedProps:ee,getSlotProps:s=>({...s,onChange:h=>{var F;(F=s.onChange)==null||F.call(s,h),M(h)}}),ownerState:H,additionalProps:{autoFocus:a,checked:l,defaultChecked:p,disabled:E,id:ne?b:void 0,name:I,readOnly:y,required:c,tabIndex:u,type:d,...d==="checkbox"&&j===void 0?{}:{value:j}}});return o.jsxs(le,{...ie,children:[o.jsx(ce,{...de}),L?n:k]})}),Me=X(o.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Te=X(o.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Ee=X(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Oe(e){return Q("MuiCheckbox",e)}const G=Z("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),qe=e=>{const{classes:t,indeterminate:r,color:a,size:l}=e,n={root:["root",r&&"indeterminate",`color${B(a)}`,`size${B(l)}`]},p=K(n,Oe,t);return{...t,...p}},Ae=A($e,{shouldForwardProp:e=>re(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t[`size${B(r.size)}`],r.color!=="default"&&t[`color${B(r.color)}`]]}})(Y(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:te(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(oe()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:te(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(oe()).map(([t])=>({props:{color:t},style:{[`&.${G.checked}, &.${G.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${G.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Ne=o.jsx(Te,{}),Ue=o.jsx(Me,{}),Ve=o.jsx(Ee,{}),We=m.forwardRef(function(t,r){const a=ae({props:t,name:"MuiCheckbox"}),{checkedIcon:l=Ne,color:n="primary",icon:p=Ue,indeterminate:i=!1,indeterminateIcon:g=Ve,inputProps:x,size:k="medium",disableRipple:b=!1,className:R,slots:S={},slotProps:I={},...v}=a,C=i?g:p,P=i?g:l,y={...a,disableRipple:b,color:n,indeterminate:i,size:k},c=qe(y),u=I.input??x,[d,j]=U("root",{ref:r,elementType:Ae,className:J(c.root,R),shouldForwardComponentProp:!0,externalForwardedProps:{slots:S,slotProps:I,...v},ownerState:y,additionalProps:{type:"checkbox",icon:m.cloneElement(C,{fontSize:C.props.fontSize??k}),checkedIcon:m.cloneElement(P,{fontSize:P.props.fontSize??k}),disableRipple:b,slots:S,slotProps:{input:me(typeof u=="function"?u(y):u,{"data-indeterminate":i})}}});return o.jsx(d,{...j,classes:c})});function He(e){return Q("MuiFormControlLabel",e)}const q=Z("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),De=e=>{const{classes:t,disabled:r,labelPlacement:a,error:l,required:n}=e,p={root:["root",r&&"disabled",`labelPlacement${B(a)}`,l&&"error",n&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",l&&"error"]};return K(p,He,t)},Ge=A("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${q.label}`]:t.label},t.root,t[`labelPlacement${B(r.labelPlacement)}`]]}})(Y(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${q.disabled}`]:{cursor:"default"},[`& .${q.label}`]:{[`&.${q.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),Je=A("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Y(({theme:e})=>({[`&.${q.error}`]:{color:(e.vars||e).palette.error.main}}))),Qe=m.forwardRef(function(t,r){const a=ae({props:t,name:"MuiFormControlLabel"}),{checked:l,className:n,componentsProps:p={},control:i,disabled:g,disableTypography:x,inputRef:k,label:b,labelPlacement:R="end",name:S,onChange:I,required:v,slots:C={},slotProps:P={},value:y,...c}=a,u=se(),d=g??i.props.disabled??(u==null?void 0:u.disabled),j=v??i.props.required,N={disabled:d,required:j};["checked","name","onChange","value","inputRef"].forEach(M=>{typeof i.props[M]>"u"&&typeof a[M]<"u"&&(N[M]=a[M])});const V=he({props:a,muiFormControl:u,states:["error"]}),z={...a,disabled:d,labelPlacement:R,required:j,error:V.error},L=De(z),W={slots:C,slotProps:{...p,...P}},[f,$]=U("typography",{elementType:T,externalForwardedProps:W,ownerState:z});let w=b;return w!=null&&w.type!==T&&!x&&(w=o.jsx(f,{component:"span",...$,className:J(L.label,$==null?void 0:$.className),children:w})),o.jsxs(Ge,{className:J(L.root,n),ownerState:z,ref:r,...c,children:[m.cloneElement(i,N),j?o.jsxs("div",{children:[w,o.jsxs(Je,{ownerState:z,"aria-hidden":!0,className:L.asterisk,children:["â€‰","*"]})]}):w]})}),Xe=()=>{var y;const e=be(),t=fe(),[r,{isSuccess:a,isError:l,error:n,isLoading:p}]=ge(),[i,g]=m.useState(""),[x,k]=m.useState(""),[b,R]=m.useState(!1),[S,I]=m.useState(!1),[v,C]=m.useState(!1);m.useEffect(()=>{localStorage.getItem("residenttoken")&&t("/resident"),C(!0)},[t]),m.useEffect(()=>{a&&t("/resident")},[a,t]);const P=async c=>{var u;if(c.preventDefault(),i&&x){const d=await r({username:i,password:x});S&&((u=d==null?void 0:d.data)!=null&&u.token)&&localStorage.setItem("residenttoken",d.data.token)}};return o.jsx(O,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:e.palette.background.default,px:2},children:o.jsxs(xe,{elevation:6,sx:{width:"100%",maxWidth:500,p:4,borderRadius:3},children:[o.jsxs(O,{textAlign:"center",mb:3,children:[o.jsx(T,{variant:"h4",fontWeight:"bold",gutterBottom:!0,children:"Resident Login"}),o.jsx(T,{variant:"body1",color:"text.secondary",children:"Welcome back! Enter your credentials to access the resident panel."})]}),o.jsx(ve,{in:v,timeout:600,children:o.jsxs("form",{onSubmit:P,noValidate:!0,children:[l&&o.jsx(Ce,{severity:"error",sx:{mb:2},children:((y=n==null?void 0:n.data)==null?void 0:y.message)||(n==null?void 0:n.error)||"Login failed. Please try again."}),o.jsx(Re,{direction:"up",in:v,timeout:500,children:o.jsxs("div",{children:[o.jsx(D,{label:"Username",variant:"outlined",fullWidth:!0,margin:"normal",value:i,onChange:c=>g(c.target.value),autoComplete:"username",required:!0}),o.jsx(D,{label:"Password",type:b?"text":"password",variant:"outlined",fullWidth:!0,margin:"normal",value:x,onChange:c=>k(c.target.value),autoComplete:"current-password",required:!0,InputProps:{endAdornment:o.jsx(Pe,{position:"end",children:o.jsx(ye,{onClick:()=>R(!b),edge:"end","aria-label":"toggle password visibility",children:b?o.jsx(ke,{}):o.jsx(Se,{})})})}}),o.jsx(Qe,{control:o.jsx(We,{checked:S,onChange:c=>I(c.target.checked),color:"primary"}),label:"Remember Me",sx:{mt:1}}),o.jsxs(O,{mt:2,children:[o.jsx(T,{fontSize:"0.875rem",color:"text.secondary",children:"Enter OTP sent to your registered mobile/email (Optional)"}),o.jsx(D,{label:"OTP",variant:"outlined",fullWidth:!0,margin:"dense",disabled:!0,placeholder:"Pending integration"})]}),o.jsx(je,{variant:"contained",color:"primary",fullWidth:!0,type:"submit",sx:{mt:3,py:1.3,fontWeight:600},disabled:p,children:p?o.jsx(we,{size:24,color:"inherit"}):"Login"}),o.jsx(O,{textAlign:"right",mt:2,children:o.jsx(Fe,{href:"#",underline:"hover",fontSize:"0.9rem",children:"Forgot Password?"})})]})})]})}),o.jsx(O,{mt:3,textAlign:"center",children:o.jsx(T,{variant:"body2",color:"text.secondary",mb:1,children:"Or continue with Google"})})]})})};export{Xe as default};
