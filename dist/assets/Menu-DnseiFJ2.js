import{r as l,b as kt,j as N,a as Dt,l as ht,m as gt,s as Y,P as Lt,f as Pt,n as yt,p as vt,z as Ft,A as Ot}from"./index-BNH9iTYT.js";import{r as It,m as zt,b as Kt,L as Ht,u as X}from"./List-BkBvgyHE.js";import{u as nt,b as At}from"./ButtonBase-Djntgs0r.js";import{i as jt}from"./isHostComponent-DVu5iVWx.js";import{T as Nt,g as Wt,a as ut,r as $t,c as Ut,o as Z,b as tt,d as Gt,m as Vt,M as _t}from"./Modal-Dru-Vug-.js";function Bt(e){var k;const{elementType:t,externalSlotProps:o,ownerState:S,skipResolvingSlotProps:w=!1,...h}=e,d=w?{}:It(o,S),{props:m,internalRef:g}=zt({...h,externalSlotProps:d}),R=nt(g,d==null?void 0:d.ref,(k=e.additionalProps)==null?void 0:k.ref);return Kt(t,{...m,ref:R},S)}function et(e){return`scale(${e}, ${e**2})`}const Xt={entering:{opacity:1,transform:et(1)},entered:{opacity:1,transform:"none"}},J=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ot=l.forwardRef(function(t,o){const{addEndListener:S,appear:w=!0,children:h,easing:d,in:m,onEnter:g,onEntered:R,onEntering:F,onExit:k,onExited:j,onExiting:u,style:v,timeout:C="auto",TransitionComponent:K=Nt,...c}=t,M=At(),n=l.useRef(),s=kt(),i=l.useRef(null),D=nt(i,Wt(h),o),x=f=>y=>{if(f){const T=i.current;y===void 0?f(T):f(T,y)}},p=x(F),O=x((f,y)=>{$t(f);const{duration:T,delay:L,easing:r}=ut({style:v,timeout:C,easing:d},{mode:"enter"});let P;C==="auto"?(P=s.transitions.getAutoHeightDuration(f.clientHeight),n.current=P):P=T,f.style.transition=[s.transitions.create("opacity",{duration:P,delay:L}),s.transitions.create("transform",{duration:J?P:P*.666,delay:L,easing:r})].join(","),g&&g(f,y)}),A=x(R),I=x(u),H=x(f=>{const{duration:y,delay:T,easing:L}=ut({style:v,timeout:C,easing:d},{mode:"exit"});let r;C==="auto"?(r=s.transitions.getAutoHeightDuration(f.clientHeight),n.current=r):r=y,f.style.transition=[s.transitions.create("opacity",{duration:r,delay:T}),s.transitions.create("transform",{duration:J?r:r*.666,delay:J?T:T||r*.333,easing:L})].join(","),f.style.opacity=0,f.style.transform=et(.75),k&&k(f)}),W=x(j),G=f=>{C==="auto"&&M.start(n.current||0,f),S&&S(i.current,f)};return N.jsx(K,{appear:w,in:m,nodeRef:i,onEnter:O,onEntered:A,onEntering:p,onExit:H,onExited:W,onExiting:I,addEndListener:G,timeout:C==="auto"?null:C,...c,children:(f,{ownerState:y,...T})=>l.cloneElement(h,{style:{opacity:0,transform:et(.75),visibility:f==="exited"&&!m?"hidden":void 0,...Xt[f],...v,...h.props.style},ref:D,...T})})});ot&&(ot.muiSupportAuto=!0);function Q(e,t,o){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o?null:e.firstChild}function pt(e,t,o){return e===t?o?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o?null:e.lastChild}function bt(e,t){if(t===void 0)return!0;let o=e.innerText;return o===void 0&&(o=e.textContent),o=o.trim().toLowerCase(),o.length===0?!1:t.repeating?o[0]===t.keys[0]:o.startsWith(t.keys.join(""))}function B(e,t,o,S,w,h){let d=!1,m=w(e,t,t?o:!1);for(;m;){if(m===e.firstChild){if(d)return!1;d=!0}const g=S?!1:m.disabled||m.getAttribute("aria-disabled")==="true";if(!m.hasAttribute("tabindex")||!bt(m,h)||g)m=w(e,m,o);else return m.focus(),!0}return!1}const Yt=l.forwardRef(function(t,o){const{actions:S,autoFocus:w=!1,autoFocusItem:h=!1,children:d,className:m,disabledItemsFocusable:g=!1,disableListWrap:R=!1,onKeyDown:F,variant:k="selectedMenu",...j}=t,u=l.useRef(null),v=l.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Dt(()=>{w&&u.current.focus()},[w]),l.useImperativeHandle(S,()=>({adjustStyleForScrollbar:(n,{direction:s})=>{const i=!u.current.style.width;if(n.clientHeight<u.current.clientHeight&&i){const D=`${Ut(Z(n))}px`;u.current.style[s==="rtl"?"paddingLeft":"paddingRight"]=D,u.current.style.width=`calc(100% + ${D})`}return u.current}}),[]);const C=n=>{const s=u.current,i=n.key;if(n.ctrlKey||n.metaKey||n.altKey){F&&F(n);return}const x=tt(s).activeElement;if(i==="ArrowDown")n.preventDefault(),B(s,x,R,g,Q);else if(i==="ArrowUp")n.preventDefault(),B(s,x,R,g,pt);else if(i==="Home")n.preventDefault(),B(s,null,R,g,Q);else if(i==="End")n.preventDefault(),B(s,null,R,g,pt);else if(i.length===1){const p=v.current,O=i.toLowerCase(),A=performance.now();p.keys.length>0&&(A-p.lastTime>500?(p.keys=[],p.repeating=!0,p.previousKeyMatched=!0):p.repeating&&O!==p.keys[0]&&(p.repeating=!1)),p.lastTime=A,p.keys.push(O);const I=x&&!p.repeating&&bt(x,p);p.previousKeyMatched&&(I||B(s,x,!1,g,Q,p))?n.preventDefault():p.previousKeyMatched=!1}F&&F(n)},K=nt(u,o);let c=-1;l.Children.forEach(d,(n,s)=>{if(!l.isValidElement(n)){c===s&&(c+=1,c>=d.length&&(c=-1));return}n.props.disabled||(k==="selectedMenu"&&n.props.selected||c===-1)&&(c=s),c===s&&(n.props.disabled||n.props.muiSkipListHighlight||n.type.muiSkipListHighlight)&&(c+=1,c>=d.length&&(c=-1))});const M=l.Children.map(d,(n,s)=>{if(s===c){const i={};return h&&(i.autoFocus=!0),n.props.tabIndex===void 0&&k==="selectedMenu"&&(i.tabIndex=0),l.cloneElement(n,i)}return n});return N.jsx(Ht,{role:"menu",ref:K,className:m,onKeyDown:C,tabIndex:w?0:-1,...j,children:M})});function qt(e){return ht("MuiPopover",e)}gt("MuiPopover",["root","paper"]);function ft(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.height/2:t==="bottom"&&(o=e.height),o}function dt(e,t){let o=0;return typeof t=="number"?o=t:t==="center"?o=e.width/2:t==="right"&&(o=e.width),o}function mt(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function q(e){return typeof e=="function"?e():e}const Jt=e=>{const{classes:t}=e;return vt({root:["root"],paper:["paper"]},qt,t)},Qt=Y(_t,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Et=Y(Lt,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Zt=l.forwardRef(function(t,o){const S=Pt({props:t,name:"MuiPopover"}),{action:w,anchorEl:h,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:m,anchorReference:g="anchorEl",children:R,className:F,container:k,elevation:j=8,marginThreshold:u=16,open:v,PaperProps:C={},slots:K={},slotProps:c={},transformOrigin:M={vertical:"top",horizontal:"left"},TransitionComponent:n,transitionDuration:s="auto",TransitionProps:i={},disableScrollLock:D=!1,...x}=S,p=l.useRef(),O={...S,anchorOrigin:d,anchorReference:g,elevation:j,marginThreshold:u,transformOrigin:M,TransitionComponent:n,transitionDuration:s,TransitionProps:i},A=Jt(O),I=l.useCallback(()=>{if(g==="anchorPosition")return m;const a=q(h),b=(a&&a.nodeType===1?a:tt(p.current).body).getBoundingClientRect();return{top:b.top+ft(b,d.vertical),left:b.left+dt(b,d.horizontal)}},[h,d.horizontal,d.vertical,m,g]),H=l.useCallback(a=>({vertical:ft(a,M.vertical),horizontal:dt(a,M.horizontal)}),[M.horizontal,M.vertical]),W=l.useCallback(a=>{const E={width:a.offsetWidth,height:a.offsetHeight},b=H(E);if(g==="none")return{top:null,left:null,transformOrigin:mt(b)};const _=I();let $=_.top-b.vertical,U=_.left-b.horizontal;const st=$+E.height,it=U+E.width,at=Z(q(h)),lt=at.innerHeight-u,ct=at.innerWidth-u;if(u!==null&&$<u){const z=$-u;$-=z,b.vertical+=z}else if(u!==null&&st>lt){const z=st-lt;$-=z,b.vertical+=z}if(u!==null&&U<u){const z=U-u;U-=z,b.horizontal+=z}else if(it>ct){const z=it-ct;U-=z,b.horizontal+=z}return{top:`${Math.round($)}px`,left:`${Math.round(U)}px`,transformOrigin:mt(b)}},[h,g,I,H,u]),[G,f]=l.useState(v),y=l.useCallback(()=>{const a=p.current;if(!a)return;const E=W(a);E.top!==null&&a.style.setProperty("top",E.top),E.left!==null&&(a.style.left=E.left),a.style.transformOrigin=E.transformOrigin,f(!0)},[W]);l.useEffect(()=>(D&&window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)),[h,D,y]);const T=()=>{y()},L=()=>{f(!1)};l.useEffect(()=>{v&&y()}),l.useImperativeHandle(w,()=>v?{updatePosition:()=>{y()}}:null,[v,y]),l.useEffect(()=>{if(!v)return;const a=Gt(()=>{y()}),E=Z(q(h));return E.addEventListener("resize",a),()=>{a.clear(),E.removeEventListener("resize",a)}},[h,v,y]);let r=s;const P={slots:{transition:n,...K},slotProps:{transition:i,paper:C,...c}},[V,wt]=X("transition",{elementType:ot,externalForwardedProps:P,ownerState:O,getSlotProps:a=>({...a,onEntering:(E,b)=>{var _;(_=a.onEntering)==null||_.call(a,E,b),T()},onExited:E=>{var b;(b=a.onExited)==null||b.call(a,E),L()}}),additionalProps:{appear:!0,in:v}});s==="auto"&&!V.muiSupportAuto&&(r=void 0);const xt=k||(h?tt(q(h)).body:void 0),[rt,{slots:St,slotProps:Mt,...Rt}]=X("root",{ref:o,elementType:Qt,externalForwardedProps:{...P,...x},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:K.backdrop},slotProps:{backdrop:Vt(typeof c.backdrop=="function"?c.backdrop(O):c.backdrop,{invisible:!0})},container:xt,open:v},ownerState:O,className:yt(A.root,F)}),[Ct,Tt]=X("paper",{ref:p,className:A.paper,elementType:Et,externalForwardedProps:P,shouldForwardComponentProp:!0,additionalProps:{elevation:j,style:G?void 0:{opacity:0}},ownerState:O});return N.jsx(rt,{...Rt,...!jt(rt)&&{slots:St,slotProps:Mt,disableScrollLock:D},children:N.jsx(V,{...wt,timeout:r,children:N.jsx(Ct,{...Tt,children:R})})})});function te(e){return ht("MuiMenu",e)}gt("MuiMenu",["root","paper","list"]);const ee={vertical:"top",horizontal:"right"},oe={vertical:"top",horizontal:"left"},ne=e=>{const{classes:t}=e;return vt({root:["root"],paper:["paper"],list:["list"]},te,t)},re=Y(Zt,{shouldForwardProp:e=>Ot(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),se=Y(Et,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ie=Y(Yt,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),fe=l.forwardRef(function(t,o){const S=Pt({props:t,name:"MuiMenu"}),{autoFocus:w=!0,children:h,className:d,disableAutoFocusItem:m=!1,MenuListProps:g={},onClose:R,open:F,PaperProps:k={},PopoverClasses:j,transitionDuration:u="auto",TransitionProps:{onEntering:v,...C}={},variant:K="selectedMenu",slots:c={},slotProps:M={},...n}=S,s=Ft(),i={...S,autoFocus:w,disableAutoFocusItem:m,MenuListProps:g,onEntering:v,PaperProps:k,transitionDuration:u,TransitionProps:C,variant:K},D=ne(i),x=w&&!m&&F,p=l.useRef(null),O=(r,P)=>{p.current&&p.current.adjustStyleForScrollbar(r,{direction:s?"rtl":"ltr"}),v&&v(r,P)},A=r=>{r.key==="Tab"&&(r.preventDefault(),R&&R(r,"tabKeyDown"))};let I=-1;l.Children.map(h,(r,P)=>{l.isValidElement(r)&&(r.props.disabled||(K==="selectedMenu"&&r.props.selected||I===-1)&&(I=P))});const H={slots:c,slotProps:{list:g,transition:C,paper:k,...M}},W=Bt({elementType:c.root,externalSlotProps:M.root,ownerState:i,className:[D.root,d]}),[G,f]=X("paper",{className:D.paper,elementType:se,externalForwardedProps:H,shouldForwardComponentProp:!0,ownerState:i}),[y,T]=X("list",{className:yt(D.list,g.className),elementType:ie,shouldForwardComponentProp:!0,externalForwardedProps:H,getSlotProps:r=>({...r,onKeyDown:P=>{var V;A(P),(V=r.onKeyDown)==null||V.call(r,P)}}),ownerState:i}),L=typeof H.slotProps.transition=="function"?H.slotProps.transition(i):H.slotProps.transition;return N.jsx(re,{onClose:R,anchorOrigin:{vertical:"bottom",horizontal:s?"right":"left"},transformOrigin:s?ee:oe,slots:{root:c.root,paper:G,backdrop:c.backdrop,...c.transition&&{transition:c.transition}},slotProps:{root:W,paper:f,backdrop:typeof M.backdrop=="function"?M.backdrop(i):M.backdrop,transition:{...L,onEntering:(...r)=>{var P;O(...r),(P=L==null?void 0:L.onEntering)==null||P.call(L,...r)}}},open:F,ref:o,transitionDuration:u,ownerState:i,...n,classes:j,children:N.jsx(y,{actions:p,autoFocus:w&&(I===-1||m),autoFocusItem:x,variant:K,...T,children:h})})});export{fe as M};
