import{aJ as A,j as e,B as u,a6 as k,e as l,P as v,aK as y,W as j,Z as d,f as b}from"./index-TOg4iC9X.js";import{u as q}from"./index.esm-B-kGqaSt.js";import{T as B,a as C,b as w,c as f,d as t,e as S}from"./TableRow-Csk7A2q-.js";const D=()=>{const{data:s,isLoading:c,isError:o}=A();return c?e.jsx(u,{display:"flex",justifyContent:"center",mt:4,children:e.jsx(k,{})}):o||!s||s.length===0?e.jsx(l,{variant:"h6",align:"center",mt:4,children:"No amenities found."}):e.jsxs(u,{children:[e.jsx(l,{variant:"h5",gutterBottom:!0,children:"All Amenities"}),e.jsx(B,{component:v,elevation:3,children:e.jsxs(C,{children:[e.jsx(w,{sx:{backgroundColor:"#f5f5f5"},children:e.jsxs(f,{children:[e.jsx(t,{sx:{fontWeight:"bold"},children:"#"}),e.jsx(t,{sx:{fontWeight:"bold"},children:"Amenity Name"}),e.jsx(t,{sx:{fontWeight:"bold"},children:"Location"}),e.jsx(t,{sx:{fontWeight:"bold"},children:"Icon/Image"})]})}),e.jsx(S,{children:s.amenities.map((r,m)=>e.jsxs(f,{children:[e.jsx(t,{children:m+1}),e.jsx(t,{children:r.name}),e.jsx(t,{children:r.location||"—"}),e.jsx(t,{children:r.image?e.jsx("img",{src:r.image,alt:r.name,style:{width:100,height:100,objectFit:"contain"}}):"—"})]},r._id))})]})})]})},E=()=>{var x,h,g,p;const{refetch:s}=A(),[c,{isLoading:o}]=y(),{register:r,handleSubmit:m,formState:{errors:i},reset:T}=q(),F=async a=>{try{const n=new FormData;n.append("name",a.name),n.append("description",a.description),n.append("location",a.location),n.append("bookingFee",a.bookingFee),n.append("image",a.image[0]);const W=await c(n).unwrap();console.log("Amenities added successfully:",W),s(),T()}catch(n){console.error("Error adding amenities:",n)}};return e.jsxs(e.Fragment,{children:[e.jsxs(u,{component:"form",onSubmit:m(F),sx:{padding:3,backgroundColor:"background.paper",borderRadius:2,maxWidth:400,mx:"auto",mt:4},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,children:"Add Amenities"}),e.jsx(j,{item:!0,xs:12,md:4,children:e.jsx(d,{style:{fontSize:"16px"},label:"Name",variant:"standard",fullWidth:!0,...r("name",{required:"Name is required"}),error:!!i.name,helperText:(x=i.name)==null?void 0:x.message})}),e.jsx(d,{label:"Description",variant:"standard",fullWidth:!0,margin:"normal",...r("description",{required:"Desc is required"}),error:!!i.description,helperText:(h=i.description)==null?void 0:h.message}),e.jsx(d,{label:"Location",variant:"standard",fullWidth:!0,margin:"normal",...r("location",{required:"location is required"}),error:!!i.location,helperText:(g=i.location)==null?void 0:g.message}),e.jsx(d,{label:"Booking Fee",variant:"standard",fullWidth:!0,margin:"normal",...r("bookingFee",{required:"bookingFee is required"}),error:!!i.bookingFee,helperText:(p=i.bookingFee)==null?void 0:p.message}),e.jsxs(j,{item:!0,xs:12,children:[e.jsxs(b,{variant:"outlined",component:"label",fullWidth:!0,sx:{textTransform:"none",py:1.5},children:["Upload Image",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",...r("image",{required:"Image is required"})})]}),i.image&&e.jsx(l,{variant:"caption",color:"error",mt:.5,display:"block",children:i.image.message})]}),e.jsx(b,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:o,children:o?"Adding...":"Add Amenities"})]}),e.jsx(D,{})]})};export{E as default};
