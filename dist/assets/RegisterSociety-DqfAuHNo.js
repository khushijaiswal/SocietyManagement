import{d as b,r as d,ai as j,j as e,B as v,P as S,e as u,Z as r,f as w,a6 as C,a3 as c}from"./index-TOg4iC9X.js";import{S as R}from"./Stack-BBwSDoMA.js";const A=()=>{var l;const m=b(),[a,g]=d.useState({name:"",email:"",password:"",societyName:"",phone:""}),[h,{data:x,isSuccess:i,isError:p,isLoading:n,error:o}]=j(),t=s=>{g(y=>({...y,[s.target.name]:s.target.value}))},f=async s=>{s.preventDefault(),await h(a)};return d.useEffect(()=>{i&&(localStorage.setItem("adminId",x.newAdmin._id),m("/all-plans"))},[i]),e.jsx(v,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{backgroundImage:"url(https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=1600&q=80)",backgroundSize:"cover",backgroundPosition:"center",px:2},children:e.jsxs(S,{elevation:6,sx:{p:4,width:"100%",maxWidth:480,borderRadius:3,backgroundColor:"rgba(255, 255, 255, 0.95)",boxShadow:"0 8px 30px rgba(0,0,0,0.2)"},children:[e.jsx(u,{variant:"h5",fontWeight:600,gutterBottom:!0,textAlign:"center",color:"secondary",children:"Register Your Society"}),e.jsx(u,{variant:"body2",color:"text.secondary",textAlign:"center",mb:3,children:"Create an admin account to manage your society"}),e.jsx("form",{onSubmit:f,children:e.jsxs(R,{spacing:2,children:[e.jsx(r,{label:"Admin Name",name:"name",value:a.name,onChange:t,fullWidth:!0,required:!0}),e.jsx(r,{label:"Email",name:"email",type:"email",value:a.email,onChange:t,fullWidth:!0,required:!0}),e.jsx(r,{label:"Password",name:"password",type:"password",value:a.password,onChange:t,fullWidth:!0,required:!0}),e.jsx(r,{label:"Society Name",name:"societyName",value:a.societyName,onChange:t,fullWidth:!0,required:!0}),e.jsx(r,{label:"Phone",name:"phone",value:a.phone,onChange:t,fullWidth:!0,required:!0}),e.jsx(w,{type:"submit",variant:"contained",color:"secondary",disabled:n,fullWidth:!0,sx:{py:1.5,fontWeight:"bold"},startIcon:n&&e.jsx(C,{size:20,color:"inherit"}),children:n?"Registering...":"Register"}),i&&e.jsx(c,{severity:"success",children:"Registration successful!"}),p&&e.jsx(c,{severity:"error",children:((l=o==null?void 0:o.data)==null?void 0:l.message)||"Registration failed"})]})})]})})};export{A as default};
