import{F as v,r,d as w,j as e,B as d,e as l,E as y}from"./index-BNH9iTYT.js";import{A as L}from"./Alert-DyuWCoDj.js";import{T as g}from"./TextField-Du4Jw93l.js";import{I as k,V as I,a as P}from"./VisibilityOff-BDyJlh1V.js";import{I as S}from"./IconButton-Bk_7tTm-.js";import{B as C}from"./Button-NFEb7akR.js";import{L as B}from"./Link-B5o76pN0.js";import"./List-BkBvgyHE.js";import"./ButtonBase-Djntgs0r.js";import"./useId-cXK4N2WA.js";import"./Select-z8M_qAC4.js";import"./Menu-DnseiFJ2.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-Dru-Vug-.js";const G=()=>{var c;const[p,{isSuccess:m,isError:x,error:t,isLoading:u}]=v(),[a,h]=r.useState(""),[n,f]=r.useState(""),[i,j]=r.useState(!1),o=w();r.useEffect(()=>{localStorage.getItem("residenttoken")&&o("/resident")},[o]),r.useEffect(()=>{m&&o("/resident")},[m,o]);const b=async s=>{s.preventDefault(),a&&n&&await p({username:a,password:n})};return e.jsxs(e.Fragment,{children:[e.jsxs(d,{sx:{padding:2,backgroundColor:"background.default"},children:[e.jsx(l,{variant:"h4",gutterBottom:!0,children:"Resident Login"}),e.jsx(l,{variant:"body1",children:"Welcome to the resident login page! Please enter your credentials to access the Resident panel."})]}),e.jsxs(d,{component:"form",onSubmit:b,sx:{padding:3,backgroundColor:"background.paper",borderRadius:2,maxWidth:400,mx:"auto",mt:{xs:4,sm:8},boxShadow:3},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,children:"Login Form"}),x&&e.jsx(L,{severity:"error",sx:{mb:2},children:((c=t==null?void 0:t.data)==null?void 0:c.message)||(t==null?void 0:t.error)||"Login failed. Please try again."}),e.jsx(g,{label:"Username",variant:"outlined",fullWidth:!0,margin:"normal",value:a,onChange:s=>h(s.target.value),autoComplete:"username"}),e.jsx(g,{label:"Password",type:i?"text":"password",variant:"outlined",fullWidth:!0,margin:"normal",value:n,onChange:s=>f(s.target.value),autoComplete:"current-password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(S,{onClick:()=>j(!i),edge:"end",children:i?e.jsx(I,{}):e.jsx(P,{})})})}}),e.jsx(C,{variant:"contained",color:"primary",fullWidth:!0,type:"submit",sx:{mt:2},disabled:u,children:u?e.jsx(y,{size:24}):"Login"}),e.jsx(d,{sx:{mt:2,textAlign:"right"},children:e.jsx(B,{href:"#",underline:"hover",children:"Forgot Password?"})})]})]})};export{G as default};
