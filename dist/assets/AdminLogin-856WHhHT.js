import{a1 as v,r,d as w,j as e,B as n,a2 as P,P as k,e as l,a3 as A,Z as m,a4 as I,I as L,a5 as S,V as C,f as W,a6 as B,L as x}from"./index-TOg4iC9X.js";const E=()=>{var g;const[h,{isSuccess:c,isError:p,error:t,isLoading:u}]=v(),[i,f]=r.useState(""),[o,y]=r.useState(""),[d,b]=r.useState(!1),s=w();r.useEffect(()=>{localStorage.getItem("admintoken")&&s("/admin")},[s]),r.useEffect(()=>{c&&s("/admin")},[c,s]);const j=async a=>{a.preventDefault(),i&&o&&await h({username:i,password:o})};return e.jsx(n,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",sx:{backgroundImage:`linear-gradient(rgba(0,0,0,0.65), rgba(0,0,0,0.65)),
                url(https://images.unsplash.com/photo-1570129477492-45c003edd2be?auto=format&fit=crop&w=1600&q=80)`,backgroundSize:"cover",backgroundPosition:"center",px:2},children:e.jsx(P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7},style:{width:"100%",maxWidth:400},children:e.jsxs(k,{elevation:6,sx:{p:4,borderRadius:3,backgroundColor:"rgba(255,255,255,0.95)",boxShadow:"0 8px 30px rgba(0,0,0,0.3)",backdropFilter:"blur(5px)"},children:[e.jsxs(n,{textAlign:"center",mb:2,children:[e.jsx(l,{variant:"h5",fontWeight:600,color:"primary",children:"Admin Login"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:"Access your admin panel securely"})]}),e.jsxs("form",{onSubmit:j,children:[p&&e.jsx(A,{severity:"error",sx:{mb:2},children:((g=t==null?void 0:t.data)==null?void 0:g.message)||(t==null?void 0:t.error)||"Login failed. Please try again."}),e.jsx(m,{label:"Username",variant:"outlined",fullWidth:!0,margin:"normal",value:i,onChange:a=>f(a.target.value),autoComplete:"username",required:!0}),e.jsx(m,{label:"Password",type:d?"text":"password",variant:"outlined",fullWidth:!0,margin:"normal",value:o,onChange:a=>y(a.target.value),autoComplete:"current-password",required:!0,InputProps:{endAdornment:e.jsx(I,{position:"end",children:e.jsx(L,{onClick:()=>b(!d),edge:"end",children:d?e.jsx(S,{}):e.jsx(C,{})})})}}),e.jsx(W,{variant:"contained",color:"primary",fullWidth:!0,type:"submit",sx:{mt:2,py:1.5,fontWeight:"bold"},disabled:u,children:u?e.jsx(B,{size:24,color:"inherit"}):"Login"}),e.jsx(n,{sx:{mt:2,textAlign:"right"},children:e.jsx(x,{href:"#",underline:"hover",color:"primary",children:"Forgot Password?"})}),e.jsx(n,{sx:{mt:3,textAlign:"center"},children:e.jsxs(l,{variant:"body2",children:["Don't have an account?"," ",e.jsx(x,{href:"/register-society",underline:"hover",color:"primary",children:"Register"})]})})]})]})})})};export{E as default};
