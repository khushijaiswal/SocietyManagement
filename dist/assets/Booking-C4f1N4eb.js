import{a3 as b,an as h,j as e,E as k,B as f,e as T}from"./index-BNH9iTYT.js";import{u as y}from"./index.esm-DfrZcD0-.js";import{T as t}from"./TextField-Du4Jw93l.js";import{B}from"./Button-NFEb7akR.js";import"./List-BkBvgyHE.js";import"./ButtonBase-Djntgs0r.js";import"./useId-cXK4N2WA.js";import"./Select-z8M_qAC4.js";import"./Menu-DnseiFJ2.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-Dru-Vug-.js";const w=()=>{var a,n,m;const{aid:s}=b(),[l,{isSuccess:j,isLoading:o,isError:u,error:d}]=h(),{register:i,handleSubmit:p,formState:{errors:r}}=y(),c=async g=>{try{await l({aid:s,data:g}).unwrap(),console.log("Booking successful"),console.log("aid from useParams:",s)}catch(x){console.error("Error booking amenity",x)}};return o?e.jsx(k,{}):u?e.jsxs("div",{style:{color:"red"},children:["Failed to book amenity: ",d.message]}):e.jsx(e.Fragment,{children:e.jsxs(f,{component:"form",onSubmit:p(c),sx:{display:"flex",flexDirection:"column",gap:2,padding:3,backgroundColor:"background.paper",borderRadius:2,maxWidth:400,mx:"auto",mt:4},children:[e.jsx(T,{children:"Book Amenities"}),e.jsx(t,{label:"Booking Date",variant:"outlined",fullWidth:!0,margin:"normal",type:"date",...i("bookingDate",{required:"Booking date is required"}),error:!!r.bookingDate,helperText:(a=r.bookingDate)==null?void 0:a.message,InputLabelProps:{shrink:!0}}),e.jsx(t,{label:"Start Time",variant:"outlined",fullWidth:!0,margin:"normal",type:"time",...i("startTime",{required:"startTime is required"}),error:!!r.startTime,helperText:(n=r.startTime)==null?void 0:n.message,InputLabelProps:{shrink:!0}}),e.jsx(t,{label:"End Time",variant:"outlined",fullWidth:!0,margin:"normal",type:"time",...i("endTime",{required:"endTime is required"}),error:!!r.endTime,helperText:(m=r.endTime)==null?void 0:m.message,InputLabelProps:{shrink:!0}}),e.jsx(B,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:o,children:o?"Booking...":"Book Amenities"})]})})};export{w as default};
