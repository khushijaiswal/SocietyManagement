import{$ as y,j as r,B as q,e as f}from"./index-BNH9iTYT.js";import{u as S}from"./index.esm-DfrZcD0-.js";import{T as i}from"./TextField-Du4Jw93l.js";import{M as T}from"./MenuItem-B6IFg_kW.js";import{B as w}from"./Button-NFEb7akR.js";import"./List-BkBvgyHE.js";import"./ButtonBase-Djntgs0r.js";import"./useId-cXK4N2WA.js";import"./Select-z8M_qAC4.js";import"./Menu-DnseiFJ2.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-Dru-Vug-.js";import"./listItemTextClasses-C6NV3aj7.js";const N=()=>{var l,m,u,d,g,p,h,c;const{register:a,handleSubmit:x,formState:{errors:e}}=S(),[b,{isLoading:o,error:n}]=y(),v=async t=>{try{const s=await b(t);console.log("Security registered successfully:",s)}catch(s){console.error("Error registering security:",s)}},j=[{value:"morning",label:"Morning"},{value:"afternoon",label:"Afternoon"},{value:"night",label:"Night"}];return r.jsx(r.Fragment,{children:r.jsxs(q,{component:"form",onSubmit:x(v),sx:{padding:3,backgroundColor:"background.paper",borderRadius:2,maxWidth:400,mx:"auto",mt:4},children:[r.jsx(f,{variant:"h6",gutterBottom:!0,children:"Security Registration Form"}),r.jsx(i,{label:"Name",variant:"outlined",fullWidth:!0,margin:"normal",...a("name",{required:"Name is required"}),error:!!e.name,helperText:(l=e.name)==null?void 0:l.message}),r.jsx(i,{label:"Email",variant:"outlined",fullWidth:!0,margin:"normal",...a("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email format"}}),error:!!e.email,helperText:(m=e.email)==null?void 0:m.message}),r.jsx(i,{label:"Phone",variant:"outlined",fullWidth:!0,margin:"normal",...a("phone",{required:"Email is required",pattern:{value:/^[6-9]\d{9}$/,message:"Invalid phone format"}}),error:!!e.phone,helperText:(u=e.phone)==null?void 0:u.message}),r.jsx(i,{label:"Shift",select:!0,variant:"outlined",fullWidth:!0,margin:"normal",...a("shift",{required:"Shift is required"}),error:!!e.shift,helperText:(d=e.shift)==null?void 0:d.message,children:j.map(t=>r.jsx(T,{value:t.value,children:t.label},t.value))}),r.jsx(i,{label:"Assigned Area",variant:"outlined",fullWidth:!0,margin:"normal",...a("assignedArea",{required:"Assigned area is required"}),error:!!e.assignedArea,helperText:(g=e.assignedArea)==null?void 0:g.message}),r.jsx(i,{placeholder:"Date Of Joining",label:"Date Of Joining",variant:"outlined",type:"date",fullWidth:!0,margin:"normal",...a("dateOfJoining",{required:"Joining date is required"}),error:!!e.dateOfJoining,helperText:(p=e.dateOfJoining)==null?void 0:p.message,InputLabelProps:{shrink:!0}}),r.jsx(i,{label:"Password",type:"password",variant:"outlined",fullWidth:!0,margin:"normal",...a("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),error:!!e.password,helperText:(h=e.password)==null?void 0:h.message}),r.jsx(w,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:o,children:o?"Registering...":"Register Security"}),n&&r.jsxs(f,{color:"error",sx:{mt:2},children:["Registration failed: ",((c=n.data)==null?void 0:c.message)||"Unknown error"]})]})})};export{N as default};
