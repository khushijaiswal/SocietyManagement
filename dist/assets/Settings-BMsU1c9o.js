import{a8 as f,j as e,B as b,e as j,Z as h}from"./index-BNH9iTYT.js";import{u as S}from"./index.esm-DfrZcD0-.js";import{T as s}from"./TextField-Du4Jw93l.js";import{M as i}from"./MenuItem-B6IFg_kW.js";import{B as M}from"./Button-NFEb7akR.js";import"./List-BkBvgyHE.js";import"./ButtonBase-Djntgs0r.js";import"./useId-cXK4N2WA.js";import"./Select-z8M_qAC4.js";import"./Menu-DnseiFJ2.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-Dru-Vug-.js";import"./listItemTextClasses-C6NV3aj7.js";const q=({defaultValues:o={}})=>{var m,u,l;const[d,{isSuccess:p,isError:F,error:R}]=f(),{register:a,handleSubmit:y,reset:x,formState:{errors:t}}=S({defaultValues:{amount:o.amount||"",month:o.month||"",year:o.year||"",frequency:o.frequency||"Monthly"}}),g=async c=>{var n;try{const r=await d(c).unwrap();h.success("Rate set successfully"),x()}catch(r){h.error(((n=r==null?void 0:r.data)==null?void 0:n.message)||"Failed to set rate"),console.error("Error setting rate:",r)}};return e.jsxs(b,{component:"form",onSubmit:y(g),sx:{maxWidth:400,mx:"auto",mt:4,p:3,borderRadius:2,backgroundColor:"background.paper",boxShadow:1},children:[e.jsx(j,{variant:"h6",gutterBottom:!0,children:"Set Maintenance Rate"}),e.jsx(s,{label:"Amount (â‚¹)",fullWidth:!0,type:"number",...a("amount",{required:"Amount is required"}),error:!!t.amount,helperText:(m=t.amount)==null?void 0:m.message,margin:"normal"}),e.jsx(s,{label:"Month",fullWidth:!0,type:"month",placeholder:"Select month",...a("month",{required:"Month is required"}),error:!!t.month,helperText:(u=t.month)==null?void 0:u.message,margin:"normal"}),e.jsx(s,{select:!0,label:"Year",fullWidth:!0,...a("year",{required:"Year is required"}),error:!!t.year,helperText:(l=t.year)==null?void 0:l.message,margin:"normal",children:Array.from({length:10},(c,n)=>{const r=new Date().getFullYear()+n;return e.jsx(i,{value:String(r),children:r},r)})}),e.jsxs(s,{select:!0,label:"Frequency",fullWidth:!0,...a("frequency"),margin:"normal",children:[e.jsx(i,{value:"Monthly",children:"Monthly"}),e.jsx(i,{value:"Quarterly",children:"Quarterly"})]}),e.jsx(M,{type:"submit",variant:"contained",color:"primary",disabled:p,fullWidth:!0,sx:{mt:2},children:"Save Settings"})]})},Z=()=>e.jsx(e.Fragment,{children:e.jsx(q,{})});export{Z as default};
