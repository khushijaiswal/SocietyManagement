import{c,aS as P,j as e,P as j}from"./index-TOg4iC9X.js";import{T,a as v,b as w,c as m,d as p,e as f}from"./TableRow-Csk7A2q-.js";import{T as C}from"./TablePagination-5p5xmu9T.js";import"./MenuItem-DFBgWJ5J.js";import"./listItemTextClasses-BwEbF0GS.js";import"./dividerClasses-9ENEhr9G.js";import"./Toolbar-DEMU4rmm.js";const b=[{id:"name",label:"Visitor name",minWidth:170},{id:"purpose",label:"Purpose",minWidth:200},{id:"flatNumber",label:"Flat Number",minWidth:100},{id:"phone",label:"Phone",minWidth:170},{id:"dateIn",label:"Check-in Time",minWidth:170},{id:"dateOut",label:"Check-out Time",minWidth:170}],H=()=>{const[r,d]=c.useState(0),[t,g]=c.useState(10),{data:n}=P(),x=(i,o)=>{d(o)},u=i=>{g(+i.target.value),d(0)},l=(n==null?void 0:n.visitors)||[];return e.jsxs(j,{sx:{width:"100%",overflow:"hidden"},children:[e.jsx(T,{sx:{maxHeight:440},children:e.jsxs(v,{stickyHeader:!0,"aria-label":"visitors table",children:[e.jsx(w,{children:e.jsx(m,{children:b.map(i=>e.jsx(p,{style:{minWidth:i.minWidth,borderRight:"1px solid #ccc"},children:i.label},i.id))})}),e.jsx(f,{children:l.slice(r*t,r*t+t).map((i,o)=>e.jsx(m,{hover:!0,role:"checkbox",tabIndex:-1,children:b.map(s=>{var h;let a=i[s.id];return["dateIn","dateOut"].includes(s.id)&&(a=a?new Date(a).toLocaleString():"—"),s.id==="phone"&&!a&&(a=((h=i.guardId)==null?void 0:h.phone)||"—"),e.jsx(p,{style:{borderRight:"1px solid #eee"},children:a||"—"},s.id)})},o))})]})}),e.jsx(C,{rowsPerPageOptions:[10,25,100],component:"div",count:l.length,rowsPerPage:t,page:r,onPageChange:x,onRowsPerPageChange:u})]})};export{H as default};
