import{aR as R,j as e,B as b,e as y,Z as s,f as S,ay as c}from"./index-TOg4iC9X.js";import{u as f}from"./index.esm-B-kGqaSt.js";import{M as j}from"./MenuItem-DFBgWJ5J.js";import"./listItemTextClasses-BwEbF0GS.js";import"./dividerClasses-9ENEhr9G.js";const w=({defaultValues:a={}})=>{var l,i,m;const[d,{isSuccess:h}]=R(),{register:o,handleSubmit:p,reset:x,formState:{errors:r},setValue:M}=f({defaultValues:{monthlyRate:a.monthlyRate||"",yearlyRate:a.yearlyRate||"",month:a.month||new Date().toLocaleString("default",{month:"long"}),year:a.year||String(new Date().getFullYear())}}),g=async u=>{var n;try{const t=await d(u).unwrap();c.success("Rate set successfully"),x()}catch(t){c.error(((n=t==null?void 0:t.data)==null?void 0:n.message)||"Failed to set rate"),console.error("Error setting rate:",t)}};return e.jsxs(b,{component:"form",onSubmit:p(g),sx:{maxWidth:400,mx:"auto",mt:4,p:3,borderRadius:2,backgroundColor:"background.paper",boxShadow:1},children:[e.jsx(y,{variant:"h6",gutterBottom:!0,children:"Set Maintenance Rate"}),e.jsx(s,{label:"Monthly Rate (₹)",fullWidth:!0,type:"number",...o("monthlyRate",{required:"Monthly rate is required"}),error:!!r.monthlyRate,helperText:(l=r.monthlyRate)==null?void 0:l.message,margin:"normal"}),e.jsx(s,{label:"Yearly Rate (₹)",fullWidth:!0,type:"number",...o("yearlyRate",{required:"Yearly rate is required"}),error:!!r.yearlyRate,helperText:(i=r.yearlyRate)==null?void 0:i.message,margin:"normal"}),e.jsx(s,{select:!0,label:"Year",fullWidth:!0,...o("year",{required:"Year is required"}),error:!!r.year,helperText:(m=r.year)==null?void 0:m.message,margin:"normal",children:Array.from({length:10},(u,n)=>{const t=new Date().getFullYear()+n;return e.jsx(j,{value:String(t),children:t},t)})}),e.jsx(y,{variant:"caption",color:"text.secondary",sx:{mt:1},children:"Note: The selected yearly and monthly rates will be applied to all months of the selected year. Already set months will be skipped."}),e.jsx(S,{type:"submit",variant:"contained",color:"primary",disabled:h,fullWidth:!0,sx:{mt:2},children:"Save Settings"})]})},W=()=>e.jsx(e.Fragment,{children:e.jsx(w,{})});export{W as default};
