import{r as h,a6 as x,V as g,j as e,P as f,e as j,E as b,Z as u}from"./index-BNH9iTYT.js";import{T as s}from"./TextField-Du4Jw93l.js";import{M as m}from"./MenuItem-B6IFg_kW.js";import{B as v}from"./Button-NFEb7akR.js";import"./List-BkBvgyHE.js";import"./ButtonBase-Djntgs0r.js";import"./useId-cXK4N2WA.js";import"./Select-z8M_qAC4.js";import"./Menu-DnseiFJ2.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-Dru-Vug-.js";import"./listItemTextClasses-C6NV3aj7.js";const B=()=>{var d;const[r,o]=h.useState({title:"",description:"",dateIssued:"",resident:""}),[c,{isLoading:l}]=x(),{data:n}=g(),a=t=>{o({...r,[t.target.name]:t.target.value})},p=async t=>{t.preventDefault();try{const i={...r};i.resident||delete i.resident,await c(i).unwrap(),u.success("Notice posted successfully"),o({title:"",description:"",dateIssued:"",resident:""})}catch{u.error("Failed to post notice")}};return e.jsxs(f,{elevation:3,sx:{padding:4,margin:4,maxWidth:600},children:[e.jsx(j,{variant:"h5",gutterBottom:!0,children:"Post New Notice"}),e.jsxs("form",{onSubmit:p,children:[e.jsx(s,{name:"title",label:"Title",value:r.title,onChange:a,fullWidth:!0,margin:"normal",required:!0}),e.jsx(s,{name:"description",label:"Description",value:r.description,onChange:a,fullWidth:!0,margin:"normal",multiline:!0,rows:4,required:!0}),e.jsx(s,{name:"dateIssued",label:"Date Issued",type:"date",value:r.dateIssued,onChange:a,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},required:!0}),e.jsxs(s,{select:!0,name:"resident",label:"Send To",value:r.resident,onChange:a,fullWidth:!0,margin:"normal",helperText:"Leave blank to send notice to all residents",children:[e.jsx(m,{value:"",children:"ðŸ“¢ All Residents (Public Notice)"}),(d=n==null?void 0:n.residents)==null?void 0:d.map(t=>e.jsxs(m,{value:t._id,children:[t.name," â€” Flat ",t.flatNumber]},t._id))]}),e.jsx(v,{type:"submit",variant:"contained",color:"primary",disabled:l,children:l?e.jsx(b,{size:24}):"Post Notice"})]})]})};export{B as default};
