import{d as j,H as v,r as l,I as b,j as e,B as u,e as R,E as S}from"./index-BNH9iTYT.js";import{T as r}from"./TextField-Du4Jw93l.js";import{B as w}from"./Button-NFEb7akR.js";import{A as d}from"./Alert-DyuWCoDj.js";import"./List-BkBvgyHE.js";import"./ButtonBase-Djntgs0r.js";import"./useId-cXK4N2WA.js";import"./Select-z8M_qAC4.js";import"./Menu-DnseiFJ2.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-Dru-Vug-.js";import"./IconButton-Bk_7tTm-.js";const z=()=>{var m;const c=j();v();const[a,p]=l.useState({name:"",email:"",password:"",societyName:"",phone:""}),[g,{data:h,isSuccess:s,isError:x,isLoading:o,error:n}]=b(),t=i=>{p(y=>({...y,[i.target.name]:i.target.value}))},f=async i=>{i.preventDefault(),await g(a)};return l.useEffect(()=>{s&&(localStorage.setItem("adminId",h.newAdmin._id),c("/all-plans"))},[s]),e.jsxs(u,{component:"form",onSubmit:f,sx:{maxWidth:400,mx:"auto",mt:5,p:3,border:"1px solid #ccc",borderRadius:2},children:[e.jsx(R,{variant:"h5",gutterBottom:!0,children:"Society Admin Registration"}),e.jsx(r,{label:"Admin Name",name:"name",value:a.name,onChange:t,fullWidth:!0,margin:"normal",required:!0}),e.jsx(r,{label:"Email",name:"email",type:"email",value:a.email,onChange:t,fullWidth:!0,margin:"normal",required:!0}),e.jsx(r,{label:"Password",name:"password",type:"password",value:a.password,onChange:t,fullWidth:!0,margin:"normal",required:!0}),e.jsx(r,{label:"Society Name",name:"societyName",value:a.societyName,onChange:t,fullWidth:!0,margin:"normal",required:!0}),e.jsx(r,{label:"Phone",name:"phone",value:a.phone,onChange:t,fullWidth:!0,margin:"normal",required:!0}),e.jsx(u,{mt:2,children:e.jsx(w,{type:"submit",variant:"contained",color:"primary",disabled:o,fullWidth:!0,startIcon:o&&e.jsx(S,{size:20}),children:o?"Registering...":"Register"})}),s&&e.jsx(d,{severity:"success",sx:{mt:2},children:"Registration successful!"}),x&&e.jsx(d,{severity:"error",sx:{mt:2},children:((m=n==null?void 0:n.data)==null?void 0:m.message)||"Registration failed"})]})};export{z as default};
