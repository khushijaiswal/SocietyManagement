import{aL as b,b6 as h,j as e,a6 as k,B as f,e as T,Z as t,f as y}from"./index-TOg4iC9X.js";import{u as j}from"./index.esm-B-kGqaSt.js";const S=()=>{var a,n,l;const{aid:s}=b(),[m,{isSuccess:B,isLoading:i,isError:u,error:d}]=h(),{register:o,handleSubmit:c,formState:{errors:r}}=j(),g=async p=>{try{await m({aid:s,data:p}).unwrap(),console.log("Booking successful"),console.log("aid from useParams:",s)}catch(x){console.error("Error booking amenity",x)}};return i?e.jsx(k,{}):u?e.jsxs("div",{style:{color:"red"},children:["Failed to book amenity: ",d.message]}):e.jsx(e.Fragment,{children:e.jsxs(f,{component:"form",onSubmit:c(g),sx:{display:"flex",flexDirection:"column",gap:2,padding:3,backgroundColor:"background.paper",borderRadius:2,maxWidth:400,mx:"auto",mt:4},children:[e.jsx(T,{children:"Book Amenities"}),e.jsx(t,{label:"Booking Date",variant:"outlined",fullWidth:!0,margin:"normal",type:"date",...o("bookingDate",{required:"Booking date is required"}),error:!!r.bookingDate,helperText:(a=r.bookingDate)==null?void 0:a.message,InputLabelProps:{shrink:!0}}),e.jsx(t,{label:"Start Time",variant:"outlined",fullWidth:!0,margin:"normal",type:"time",...o("startTime",{required:"startTime is required"}),error:!!r.startTime,helperText:(n=r.startTime)==null?void 0:n.message,InputLabelProps:{shrink:!0}}),e.jsx(t,{label:"End Time",variant:"outlined",fullWidth:!0,margin:"normal",type:"time",...o("endTime",{required:"endTime is required"}),error:!!r.endTime,helperText:(l=r.endTime)==null?void 0:l.message,InputLabelProps:{shrink:!0}}),e.jsx(y,{type:"submit",variant:"contained",fullWidth:!0,sx:{mt:2},disabled:i,children:i?"Booking...":"Book Amenities"})]})})};export{S as default};
