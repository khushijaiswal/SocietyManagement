import{r as g,a9 as j,j as t,B as b,e as C,E as y}from"./index-BNH9iTYT.js";import v from"./ViewComplaints-Bspxxqq_.js";import{T as m}from"./TextField-Du4Jw93l.js";import{B}from"./Button-NFEb7akR.js";import{A as l}from"./Alert-DyuWCoDj.js";import"./TableRow-Ddg_ZvjR.js";import"./IconButton-Bk_7tTm-.js";import"./useId-cXK4N2WA.js";import"./ButtonBase-Djntgs0r.js";import"./List-BkBvgyHE.js";import"./Select-z8M_qAC4.js";import"./Menu-DnseiFJ2.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-Dru-Vug-.js";import"./MenuItem-B6IFg_kW.js";import"./listItemTextClasses-C6NV3aj7.js";import"./Toolbar-__opi1CO.js";const H=()=>{var n;const[r,p]=g.useState({reason:"",description:""}),[c,{isSuccess:u,isLoading:a,isError:d,error:e}]=j(),s=i=>{const{name:o,value:h}=i.target;p(f=>({...f,[o]:h}))},x=async i=>{i.preventDefault();try{await c(r)}catch(o){console.error("Error raising complaint",o)}};return t.jsxs(t.Fragment,{children:[t.jsxs(b,{marginBottom:2,component:"form",onSubmit:x,sx:{maxWidth:500,mx:"auto",mt:5,p:3,border:"1px solid #ccc",borderRadius:2,boxShadow:2,bgcolor:"#f9f9f9"},children:[t.jsx(C,{variant:"h5",gutterBottom:!0,children:"Raise a Complaint"}),t.jsx(m,{label:"Reason",name:"reason",value:r.reason,onChange:s,fullWidth:!0,margin:"normal",required:!0}),t.jsx(m,{label:"Description",name:"description",value:r.description,onChange:s,multiline:!0,rows:4,fullWidth:!0,margin:"normal",required:!0}),t.jsx(B,{type:"submit",variant:"contained",color:"primary",disabled:a,fullWidth:!0,sx:{mt:2},children:a?t.jsx(y,{size:24}):"Submit"}),u&&t.jsx(l,{severity:"success",sx:{mt:2},children:"Complaint raised successfully!"}),d&&t.jsx(l,{severity:"error",sx:{mt:2},children:((n=e==null?void 0:e.data)==null?void 0:n.message)||"Failed to raise complaint"})]}),t.jsx(v,{})]})};export{H as default};
