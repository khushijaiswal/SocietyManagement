import{r as m,b as O,ac as q,w as A,ad as D,ae as C,af as G,j as J,ag as $,ah as K}from"./index-TOg4iC9X.js";function M(a,s,d){const e=s.getBoundingClientRect(),n=d&&d.getBoundingClientRect(),E=C(s);let f;if(s.fakeTransform)f=s.fakeTransform;else{const i=E.getComputedStyle(s);f=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}let u=0,l=0;if(f&&f!=="none"&&typeof f=="string"){const i=f.split("(")[1].split(")")[0].split(",");u=parseInt(i[4],10),l=parseInt(i[5],10)}return a==="left"?n?`translateX(${n.right+u-e.left}px)`:`translateX(${E.innerWidth+u-e.left}px)`:a==="right"?n?`translateX(-${e.right-n.left-u}px)`:`translateX(-${e.left+e.width-u}px)`:a==="up"?n?`translateY(${n.bottom+l-e.top}px)`:`translateY(${E.innerHeight+l-e.top}px)`:n?`translateY(-${e.top-n.top+e.height-l}px)`:`translateY(-${e.top+e.height-l}px)`}function N(a){return typeof a=="function"?a():a}function x(a,s,d){const e=N(d),n=M(a,s,e);n&&(s.style.webkitTransform=n,s.style.transform=n)}const U=m.forwardRef(function(s,d){const e=O(),n={enter:e.transitions.easing.easeOut,exit:e.transitions.easing.sharp},E={enter:e.transitions.duration.enteringScreen,exit:e.transitions.duration.leavingScreen},{addEndListener:f,appear:u=!0,children:l,container:i,direction:c="down",easing:T=n,in:p,onEnter:R,onEntered:L,onEntering:b,onExit:k,onExited:v,onExiting:P,style:y,timeout:w=E,TransitionComponent:V=q,...X}=s,o=m.useRef(null),Y=A(D(l),o,d),g=t=>r=>{t&&(r===void 0?t(o.current):t(o.current,r))},z=g((t,r)=>{x(c,t,i),K(t),R&&R(t,r)}),W=g((t,r)=>{const h=$({timeout:w,style:y,easing:T},{mode:"enter"});t.style.webkitTransition=e.transitions.create("-webkit-transform",{...h}),t.style.transition=e.transitions.create("transform",{...h}),t.style.webkitTransform="none",t.style.transform="none",b&&b(t,r)}),j=g(L),B=g(P),I=g(t=>{const r=$({timeout:w,style:y,easing:T},{mode:"exit"});t.style.webkitTransition=e.transitions.create("-webkit-transform",r),t.style.transition=e.transitions.create("transform",r),x(c,t,i),k&&k(t)}),F=g(t=>{t.style.webkitTransition="",t.style.transition="",v&&v(t)}),H=t=>{f&&f(o.current,t)},S=m.useCallback(()=>{o.current&&x(c,o.current,i)},[c,i]);return m.useEffect(()=>{if(p||c==="down"||c==="right")return;const t=G(()=>{o.current&&x(c,o.current,i)}),r=C(o.current);return r.addEventListener("resize",t),()=>{t.clear(),r.removeEventListener("resize",t)}},[c,p,i]),m.useEffect(()=>{p||S()},[p,S]),J.jsx(V,{nodeRef:o,onEnter:z,onEntered:j,onEntering:W,onExit:I,onExited:F,onExiting:B,addEndListener:H,appear:u,in:p,timeout:w,...X,children:(t,{ownerState:r,...h})=>m.cloneElement(l,{ref:Y,style:{visibility:t==="exited"&&!p?"hidden":void 0,...y,...l.props.style},...h})})});export{U as S};
